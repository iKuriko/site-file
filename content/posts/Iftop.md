---
title: "Iftop"
date: 2022-03-31T11:39:01+08:00
draft: true
description: iftop 可以监控 Linux 网卡的实时流量，查看数据流向、IP地址和端口等信息。
tags:
  - Network tools
  - CentOS Linux
---





## 命令

语法：

```bash
 iftop [选项] <网卡设备名>
```

选项：

```bash
-i：指定检测的网卡（物理网卡和虚拟网卡都可以检测）
-B：以字节（Bytes）为单位显示流量，默认为比特（Bits）
-n：将host信息默认都显示为IP地址
-N：将端口信息默认都显示为端口号
-F：显示特定网段的进出流量，如iftop -F 10.10.1.0/24
-h：帮助信息
-f：过滤计算包
-P：默认显示host信息和端口信息
-b：默认显示流量图形条
-m：设置上面刻度的最大值，刻度分为五个大段显示，例如iftop -m 100M
```

 

## 详解

```bash
iftop -i eth0    #监控eth0网口
```



```txt
1.界面的上方是流量的刻度尺，高光代表流量的统计条

2.“=> <=”是数据的流向，左右两边是源主机和目的主机的IP

3.界面的下方是具体的流量数据
​	TX：发送的流量
​	RX：接收的流量
​	TOTAL：总流量
​	cum：运行iftop到目前为止的总流量
​	peek：流量峰值（最大的带宽）
​	rates：表示2s、10s、40s的平均流量
```



## 操作命令

在iftop界面下，可以键入如下命令

| 命令        | 作用                               |
| ----------- | ---------------------------------- |
| h           | 显示帮助                           |
| n           | 显示主机的IP或主机名               |
| s           | 显示源主机host信息                 |
| d           | 显示目标主机的host信息             |
| t           | 显示的流量为发送流量或接收流量     |
| N           | 显示端口号或服务名称               |
| S           | 显示源主机的端口信息               |
| D           | 显示目标主机的端口                 |
| p           | 显示端口信息                       |
| P           | 暂停/继续显示                      |
| b           | 显示平均流量图形条                 |
| B           | 显示2s、10s、40s内平均的流量       |
| T           | 显示每个连接的总流量               |
| I           | 过滤，比如IP，只输出过滤的流量信息 |
| L           | 切换显示上面的刻度                 |
| j \| k      | 向上或向下滚动屏幕显示的连接记录   |
| 1 \| 2 \| 3 | 根据右侧显示的三列流量数据进行排序 |
| <           | 根据源主机名或IP进行排序           |
| \>          | 根据目的主机名或IP进行排序         |
| o           | 固定只显示当前的连接               |
| f           | 编辑过滤代码                       |
| !           | 使用shell命令                      |
| q           | 退出监控                           |

